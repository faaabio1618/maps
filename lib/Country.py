from enum import Enum


class Country(Enum):
    ALBANIA = {
        "name": "Albania",
        "iso2": "AL",
        "iso3": "ALB",
    }

    ANDORRA = {
        "name": "Andorra",
        "iso2": "AD",
        "iso3": "AND",
    }
    ARMENIA = {
        "name": "Armenia",
        "iso2": "AM",
        "iso3": "ARM",
    }
    AUSTRIA = {
        "name": "Austria",
        "iso2": "AT",
        "iso3": "AUT",
    }
    AZERBAIJAN = {
        "name": "Azerbaijan",
        "iso2": "AZ",
        "iso3": "AZE",
    }
    BELARUS = {
        "name": "Belarus",
        "iso2": "BY",
        "iso3": "BLR",
    }
    BELGIUM = {
        "name": "Belgium",
        "iso2": "BE",
        "iso3": "BEL",
    }
    BOSNIA_HERZEGOVINA = {
        "name": "Bosnia and Herzegovina",
        "iso2": "BA",
        "iso3": "BIH",
    }
    BULGARIA = {
        "name": "Bulgaria",
        "iso2": "BG",
        "iso3": "BGR",
    }
    CROATIA = {
        "name": "Croatia",
        "iso2": "HR",
        "iso3": "HRV",
    }
    CYPRUS = {
        "name": "Cyprus",
        "iso2": "CY",
        "iso3": "CYP",
    }
    CZECHIA = {
        "name": "Czech Republic",
        "iso2": "CZ",
        "iso3": "CZE",
    }
    DENMARK = {
        "name": "Denmark",
        "iso2": "DK",
        "iso3": "DNK",
    }
    EGYPT = {
        "name": "Egypt",
        "iso2": "EG",
        "iso3": "EGY",
    }
    ESTONIA = {
        "name": "Estonia",
        "iso2": "EE",
        "iso3": "EST",
    }
    FINLAND = {
        "name": "Finland",
        "iso2": "FI",
        "iso3": "FIN",
    }
    FRANCE = {
        "name": "France",
        "iso2": "FR",
        "iso3": "FRA",
    }
    GEORGIA = {
        "name": "Georgia",
        "iso2": "GE",
        "iso3": "GEO",
    }
    GERMANY = {
        "name": "Germany",
        "iso2": "DE",
        "iso3": "DEU",
    }
    GREECE = {
        "name": "Greece",
        "iso2": "GR",
        "iso3": "GRC",
    }
    HUNGARY = {
        "name": "Hungary",
        "iso2": "HU",
        "iso3": "HUN",
    }
    KAZAKHSTAN = {
        "name": "Kazakhstan",
        "iso2": "KZ",
        "iso3": "KAZ",
    }
    ICELAND = {
        "name": "Iceland",
        "iso2": "IS",
        "iso3": "ISL",
    }
    IRELAND = {
        "name": "Ireland",
        "iso2": "IE",
        "iso3": "IRL",
    }
    ITALY = {
        "name": "Italy",
        "iso2": "IT",
        "iso3": "ITA",
    }
    LITHUANIA = {
        "name": "Lithuania",
        "iso2": "LT",
        "iso3": "LTU",
    }
    LUXEMBOURG = {
        "name": "Luxembourg",
        "iso2": "LU",
        "iso3": "LUX",
    }
    NORTH_MACEDONIA = {
        "name": "North Macedonia",
        "iso2": "MK",
        "iso3": "MKD",
    }
    MALTA = {
        "name": "Malta",
        "iso2": "MT",
        "iso3": "MLT",
    }
    MOLDOVA = {
        "name": "Moldova",
        "iso2": "MD",
        "iso3": "MDA",
    }
    MONACO = {
        "name": "Monaco",
        "iso2": "MC",
        "iso3": "MCO",
    }
    MONTENEGRO = {
        "name": "Montenegro",
        "iso2": "ME",
        "iso3": "MNE",
    }
    NETHERLANDS = {
        "name": "Netherlands",
        "iso2": "NL",
        "iso3": "NLD",
    }
    NORWAY = {
        "name": "Norway",
        "iso2": "NO",
        "iso3": "NOR",
    }
    POLAND = {
        "name": "Poland",
        "iso2": "PL",
        "iso3": "POL",
    }
    PORTUGAL = {
        "name": "Portugal",
        "iso2": "PT",
        "iso3": "PRT",
    }
    ROMANIA = {
        "name": "Romania",
        "iso2": "RO",
        "iso3": "ROU",
    }
    SERBIA = {
        "name": "Serbia",
        "iso2": "RS",
        "iso3": "SRB",
    }
    SLOVAKIA = {
        "name": "Slovakia",
        "iso2": "SK",
        "iso3": "SVK",
    }
    SLOVENIA = {
        "name": "Slovenia",
        "iso2": "SI",
        "iso3": "SVN",
    }
    SPAIN = {
        "name": "Spain",
        "iso2": "ES",
        "iso3": "ESP",
    }
    SWEDEN = {
        "name": "Sweden",
        "iso2": "SE",
        "iso3": "SWE",
    }
    SWITZERLAND = {
        "name": "Switzerland",
        "iso2": "CH",
        "iso3": "CHE",
    }
    TURKEY = {
        "name": "Turkey",
        "iso2": "TR",
        "iso3": "TUR",
    }
    UKRAINE = {
        "name": "Ukraine",
        "iso2": "UA",
        "iso3": "UKR",
    }
    UNITED_KINGDOM = {
        "name": "United Kingdom",
        "iso2": "GB",
        "iso3": "GBR",
    }
    LIECHTENSTEIN = {
        "name": "Liechtenstein",
        "iso2": "LI",
        "iso3": "LIE",
    }
    SAN_MARINO = {
        "name": "San Marino",
        "iso2": "SM",
        "iso3": "SMR",
    }
    LATVIA = {
        "name": "Latvia",
        "iso2": "LV",
        "iso3": "LVA",
    }
    KOSOVO = {
        "name": "Kosovo",
        "iso2": "XK",
        "iso3": "KOS",
    }
    RUSSIA = {
        "name": "Russian Federation",
        "iso2": "RU",
        "iso3": "RUS",
    }

    CHINA = {
        "name": "China",
        "iso2": "CN",
        "iso3": "CHN",
    }
    JAPAN = {
        "name": "Japan",
        "iso2": "JP",
        "iso3": "JPN",
    }

    # Asia countries
    AFGHANISTAN = {
        "name": "Afghanistan",
        "iso2": "AF",
        "iso3": "AFG",
    }
    BAHRAIN = {
        "name": "Bahrain",
        "iso2": "BH",
        "iso3": "BHR",
    }
    TAIWAN = {
        "name": "Taiwan",
        "iso2": "TW",
        "iso3": "TWN",
    }
    BANGLADESH = {
        "name": "Bangladesh",
        "iso2": "BD",
        "iso3": "BGD",
    }
    BHUTAN = {
        "name": "Bhutan",
        "iso2": "BT",
        "iso3": "BTN",
    }
    BRUNEI = {
        "name": "Brunei",
        "iso2": "BN",
        "iso3": "BRN",
    }
    CAMBODIA = {
        "name": "Cambodia",
        "iso2": "KH",
        "iso3": "KHM",
    }
    EAST_TIMOR = {
        "name": "East Timor",
        "iso2": "TL",
        "iso3": "TLS",
    }
    INDIA = {
        "name": "India",
        "iso2": "IN",
        "iso3": "IND",
    }
    INDONESIA = {
        "name": "Indonesia",
        "iso2": "ID",
        "iso3": "IDN",
    }
    IRAN = {
        "name": "Iran",
        "iso2": "IR",
        "iso3": "IRN",
    }
    IRAQ = {
        "name": "Iraq",
        "iso2": "IQ",
        "iso3": "IRQ",
    }
    ISRAEL = {
        "name": "Israel",
        "iso2": "IL",
        "iso3": "ISR",
    }
    JORDAN = {
        "name": "Jordan",
        "iso2": "JO",
        "iso3": "JOR",
    }
    KUWAIT = {
        "name": "Kuwait",
        "iso2": "KW",
        "iso3": "KWT",
    }
    KYRGYZSTAN = {
        "name": "Kyrgyzstan",
        "iso2": "KG",
        "iso3": "KGZ",
    }
    LAOS = {
        "name": "Laos",
        "iso2": "LA",
        "iso3": "LAO",
    }
    LEBANON = {
        "name": "Lebanon",
        "iso2": "LB",
        "iso3": "LBN",
    }
    MALAYSIA = {
        "name": "Malaysia",
        "iso2": "MY",
        "iso3": "MYS",
    }
    MALDIVES = {
        "name": "Maldives",
        "iso2": "MV",
        "iso3": "MDV",
    }
    MONGOLIA = {
        "name": "Mongolia",
        "iso2": "MN",
        "iso3": "MNG",
    }
    MYANMAR = {
        "name": "Myanmar",
        "iso2": "MM",
        "iso3": "MMR",
    }
    NEPAL = {
        "name": "Nepal",
        "iso2": "NP",
        "iso3": "NPL",
    }
    NORTH_KOREA = {
        "name": "North Korea",
        "iso2": "KP",
        "iso3": "PRK",
    }
    OMAN = {
        "name": "Oman",
        "iso2": "OM",
        "iso3": "OMN",
    }
    PAKISTAN = {
        "name": "Pakistan",
        "iso2": "PK",
        "iso3": "PAK",
    }
    PALESTINE = {
        "name": "Palestine",
        "iso2": "PS",
        "iso3": "PSX",
    }
    PHILIPPINES = {
        "name": "Philippines",
        "iso2": "PH",
        "iso3": "PHL",
    }
    QATAR = {
        "name": "Qatar",
        "iso2": "QA",
        "iso3": "QAT",
    }
    SAUDI_ARABIA = {
        "name": "Saudi Arabia",
        "iso2": "SA",
        "iso3": "SAU",
    }
    SINGAPORE = {
        "name": "Singapore",
        "iso2": "SG",
        "iso3": "SGP",
    }
    SOUTH_KOREA = {
        "name": "South Korea",
        "iso2": "KR",
        "iso3": "KOR",
    }
    SRI_LANKA = {
        "name": "Sri Lanka",
        "iso2": "LK",
        "iso3": "LKA",
    }
    SYRIA = {
        "name": "Syria",
        "iso2": "SY",
        "iso3": "SYR",
    }
    TAJIKISTAN = {
        "name": "Tajikistan",
        "iso2": "TJ",
        "iso3": "TJK",
    }
    THAILAND = {
        "name": "Thailand",
        "iso2": "TH",
        "iso3": "THA",
    }
    TURKMENISTAN = {
        "name": "Turkmenistan",
        "iso2": "TM",
        "iso3": "TKM",
    }
    UNITED_ARAB_EMIRATES = {
        "name": "United Arab Emirates",
        "iso2": "AE",
        "iso3": "ARE",
    }
    UZBEKISTAN = {
        "name": "Uzbekistan",
        "iso2": "UZ",
        "iso3": "UZB",
    }
    VIETNAM = {
        "name": "Vietnam",
        "iso2": "VN",
        "iso3": "VNM",
    }
    YEMEN = {
        "name": "Yemen",
        "iso2": "YE",
        "iso3": "YEM",
    }

    @staticmethod
    def get_by_iso2(iso2):
        for country in Country:
            if country.iso2 == iso2:
                return country
        return None

    @staticmethod
    def get_by_iso3(iso3):
        for country in Country:
            if country.iso3 == iso3:
                return country
        return None

    @staticmethod
    def get_by_name(name):
        for country in Country:
            if country.name == name:
                return country
        return None

    @property
    def name(self):
        return self.value["name"]

    @staticmethod
    def all():
        return [country for country in Country]

    @property
    def iso2(self):
        return self.value["iso2"]

    @property
    def iso3(self):
        return self.value["iso3"]

    @property
    def label_size(self):
        if self in [Country.SLOVENIA, Country.JORDAN, Country.LEBANON, Country.ISRAEL, Country.PALESTINE]:
            return 11
        if self in [Country.NORTH_MACEDONIA, Country.CROATIA, Country.KOSOVO, Country.ALBANIA, Country.LUXEMBOURG,
                    Country.SYRIA, Country.BAHRAIN, Country.QATAR]:
            return 12
        if self in [Country.SERBIA, Country.ESTONIA, Country.NETHERLANDS, Country.BOSNIA_HERZEGOVINA,
                    Country.DENMARK, Country.MONTENEGRO]:
            return 13
        return 15

    def label_coords(self, region=None):
        from lib.Region import Region
        if self == Country.RUSSIA:
            if region == Region.EUROPE:
                return 6400000, 4300000
            if region == Region.ASIA:
                return 100067, 3300000
            else:
                return 6400000, 4300000
        if self == Country.ALBANIA:
            return 5150000, 2050000
        if self == Country.ANDORRA:
            return 3752269, 2181585
        if self == Country.LIECHTENSTEIN:
            return 4500000, 2600000
        if self == Country.MONACO:
            return 5800000, 2500000
        if self == Country.MALTA:
            return 5800000, 2200000
        if self == Country.SAN_MARINO:
            return 5800000, 2400000
        if self == Country.AUSTRIA:
            return 4670000, 2700000
        if self == Country.SWITZERLAND:
            return 4185571, 2650000
        if self == Country.CYPRUS:
            return 6520000, 1600000
        if self == Country.CZECHIA:
            return 4705309, 2953169
        if self == Country.DENMARK:
            return 4280000, 3649679
        if self == Country.FINLAND:
            return 5100655, 4399000
        if self == Country.UNITED_KINGDOM:
            return 3500000, 3311356
        if self == Country.GREECE:
            return 5300000, 1900000
        if self == Country.CROATIA:
            return 4854665, 2520007
        if self == Country.LATVIA:
            return 5270000, 3845716
        if self == Country.SLOVENIA:
            return 4690000, 2568867
        if self == Country.SWEDEN:
            return 4580000, 4000000
        if self == Country.NORWAY:
            return 4300000, 4200000
        if self == Country.AZERBAIJAN:
            if region == Region.ASIA:
                return -4000000, 2004236
            return None, None
        if self == Country.KAZAKHSTAN:
            if region == Region.EUROPE:
                return 7359144, 3800000
            if region == Region.ASIA:
                return None, None
            return 7359144, 3800000
        if self == Country.BAHRAIN:
            return -4550000, 760000
        if self == Country.SINGAPORE:
            return 700000, -3237000
        if self == Country.ISRAEL:
            return -5750000, 1750000
        if self == Country.PALESTINE:
            return -5500000, 1821409
        if self == Country.MALDIVES:
            return -3000000, -1900000
        if self == Country.OMAN:
            return -4550000, -280000
        if self == Country.IRAQ:
            return -4900000, 1558550
        if self == Country.LEBANON:
            return -5536130, 2100000
        if self == Country.SYRIA:
            return -5200000, 1950000
        if self == Country.JORDAN:
            return -5600000, 1650000
        if self == Country.TAJIKISTAN:
            return -2500000, 1200000
        if self == Country.NEPAL:
            return -1600000, -50000
        if self == Country.JAPAN:
            return 3300000, 1200000
        if self == Country.LAOS:
            return 300000, -1100053
        if self == Country.VIETNAM:
            return 1180000, -1900000
        if self == Country.THAILAND:
            return 107475, -1500000
        if self == Country.MALAYSIA:
            return 300702, -2836987
        if self == Country.INDONESIA:
            return 1505332, -3398180
        if self == Country.EAST_TIMOR:
            return 3702693, -4091964
        return None, None


exceptions = {
    "Czechia": Country.CZECHIA,
    "Turkiye": Country.TURKEY,
    "Slovak Republic": Country.SLOVAKIA,
    "Russia": Country.RUSSIA,
    "Brunei Darussalam": Country.BRUNEI,
    "Iran, Islamic Rep.": Country.IRAN,
    "Kyrgyz Republic": Country.KYRGYZSTAN,
    "Korea, Rep.": Country.SOUTH_KOREA,
    "Lao PDR": Country.LAOS,
    "West Bank and Gaza": Country.PALESTINE,
    "Timor-Leste": Country.EAST_TIMOR,
    "Viet Nam": Country.VIETNAM,
    "Yemen, Rep.": Country.YEMEN,
    "Syrian Arab Republic": Country.SYRIA,
    "Korea, Dem. People's Rep.": Country.NORTH_KOREA,
    "Egypt, Arab Rep.": Country.EGYPT

}


def names_to_iso3(name):
    try:
        return Country.get_by_name(name).iso3
    except:
        if name in exceptions:
            return exceptions[name].iso3
        print(f"Could not find iso3 for {name}")
        return None


def names_to_iso2(name):
    try:
        return Country.get_by_name(name).iso2
    except:
        if name in exceptions:
            return exceptions[name].iso2
        print(f"Could not find iso2 for {name}")
        return None
